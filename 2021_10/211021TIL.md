## 211021_ TIL

## 학습내용 

- 타입들이 역할과 책임을 명확하게 가지고 있으면 재사용성이 높아진다. 
	- 객체는 역할과 책임을 갖고 있어야 하고, 이 객체들의 협력으로 객체지향이 완성된다)
- 함수를 잘 쪼개는 것도 마찬가지!
- 프로퍼티는 드러내지 않는게 객체지향의 핵심이다 
	- 메시지를 주고받도록 하여 간접적으로 프로퍼티를 확인
	- 메서드를 통해 "몇 개 가지고 있니~" 라고 물어 반환값으로 프로퍼티에 대해 알 수 있다. 


- swift에서는 왜 객체라는 말을 지양하는가?
	- 인스턴스라는 말을 주로 사용함
	- 클래스의 인스턴스가 전통적으로 객체를 의미하는데, swift에서의 클래스와 구조체는 기능상으로 유사하기 때문에조금 더 일반적인 "인스턴스"라는 말을 사용한다. 


## Structures and Classes

- Struct와 Class의 공통점
	-	값을 저장하기 위해 프로퍼티를 정의할 수 있다. 
	-	기능을 제공하기 위해 메서드를 정의할 수 있다.
	-	subscripts를 정의하여 값에 접근하여 제공할 수 있다.
	-	초기 상태를 제공하기 위해 이니셜라이저를 정의할 수 있다.
	-	기본 구현에서 기능은 더 확장될 수 있다(extension)
	-	표준 기능을 제공하기 위해 프로토콜을 채택할 수 있다.

하지만 struct는 없고 class만이 가지는 특성도 있다. 
- 상속이 가능하다
- 타입 캐스팅이 가능하다
- 디이니셜라이져가 있다
- 레퍼런스 카운팅(reference counting)은 클래스 인스턴스에 대해 하나 이상의 참조를 가지게 한다.

클래스가 기능은 더 많아보이지만, 공식 문서에서는 왠만하면 sturct를 사용할 것을 권장하고 있으며, 꼭 필요한 경우에만 class를 사용하라고 말하고 있다. 

그렇다면 언제 struct를, class를 사용해야할까? 
새로운 데이터 타입을 추가할 때 아래의 기준을 참고할 수 있다. 

- 기본적으로 struct를 사용해라
- Objective-C 활용이 필요할 때 class를 사용해라
- 동일성(identity)를 제어해야 할 때 class를 사용해라
- protocol과 함께 struct를 사용하여 모델의 상속이나 공유를 구현할 수 있다. 

struct는 값 타입, class는 참조 타입이라는게 가장 큰 차이가 아닐까 싶다. 

추가적으로 class는 identical to (`===`)를 사용하여 인스턴스들이 서로 같은 클래스를 참조하고 있는지 확인할 수 있다. 인스턴스들이 같은지 물어보는 `==`와는 다르다.

- event driven programming (나중에 더 자세히 알아보자)
	- 시스템/사용자 이벤트에 의해 앱의 실행 흐름이 결정되는 프로그래밍 기법이다
	- main loop가 계속 돌면서 이벤트를 기다림
	- 인스턴스는 가만히 있다가 일이 생기면 일함 
- 이니셜라이저
	- 인스턴스가 생성될 때 프로퍼티가 값을 갖도록 해준다.
	- 프로퍼티 기본값 (이후 프로퍼티에 접근해서 값을 바꿔야 함)
	- init의 기본값 (만들 때 마다 넣어줄 수 있다 + 프로퍼티의 값을 외부에서 값을 바꿀 수 없다.(프로퍼티가 은닉화 되어있다면))
- 타입 설계 이후에는 최대한 바뀌지 않는 방법으로 해야한다( 처음부터 잘 고려해야함)

---

**Ref**
[structures and classes](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html)
[Choosing between structures and classes](https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes)

